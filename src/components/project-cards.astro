---
interface Tag {
  name: string;
  link: string;
}

interface Project {
  title: string;
  description: string;
  link: string;
  tags: Tag[];
  status?: "online";
  deployment?: string;
}

const allTags = {
  astro: {
    name: "astro",
    link: "https://astro.build/",
  },
  tailwindcss: {
    name: "tailwindcss",
    link: "https://tailwindcss.com/",
  },
  iconify: {
    name: "iconify",
    link: "https://iconify.design/",
  },
  starlight: {
    name: "starlight",
    link: "https://starlight.astro.build/",
  },
  mdx: {
    name: "mdx",
    link: "https://mdxjs.com/",
  },
  react: {
    name: "react",
    link: "https://react.dev/?uwu=true",
  },
  nextjs: {
    name: "nextjs",
    link: "https://nextjs.org/",
  },
  mux: {
    name: "mux",
    link: "https://www.mux.com/",
  },
  vercel: {
    name: "vercel",
    link: "https://vercel.com/",
  },
  shadcn: {
    name: "shadcn",
    link: "https://shadcn.dev/",
  },
  uploadthing: {
    name: "uploadthing",
    link: "https://uploadthing.com/",
  },
  clerk: {
    name: "clerk",
    link: "https://clerk.dev/",
  },
};

let githubPrefix = "https://github.com/evilweasel/";
let githubPagesPrefix = "https://evilweasel.github.io/";

let projectList: Array<Project> = [
  {
    title: "Mein Portfolio",
    description: "Eine Übersicht zu meiner Fähigkeiten und meiner Projekte.",
    link: `${githubPrefix}evilweasel.github.io`,
    tags: [
      allTags.astro,
      { name: "tailwindcss", link: "https://tailwindcss.com/" },
      { name: "iconify", link: "https://iconify.design/" },
    ],
    status: "online",
    deployment: githubPagesPrefix,
  },
  {
    title: "EvilDocs",
    description:
      "Website mit meinen Unterrichtsmaterialien. Open-Source Teaching.",
    link: `${githubPrefix}docs`,
    tags: [
      { name: "astro", link: "https://astro.build/" },
      { name: "starlight", link: "https://starlight.astro.build/" },
      { name: "tailwindcss", link: "https://tailwindcss.com/" },
      { name: "mdx", link: "https://mdxjs.com/" },
      { name: "react", link: "https://react.dev/?uwu=true" },
    ],
    status: "online",
    deployment: `${githubPagesPrefix}docs`,
  },
  {
    title: "LBX - Learn By Example",
    description:
      "Ein Lernprojekt, welches ich nutzte um React, NextJS und TailwindCSS zu lernen. Basically ein Udemy Clone.",
    link: `${githubPrefix}lbx`,
    tags: [
      { name: "nextjs", link: "https://nextjs.org/" },
      { name: "tailwindcss", link: "https://tailwindcss.com/" },
      { name: "react", link: "https://reactjs.org/" },
      { name: "mux", link: "https://www.mux.com/" },
      { name: "vercel", link: "https://vercel.com/" },
      { name: "shadcn", link: "https://shadcn.dev/" },
      { name: "uploadthing", link: "https://uploadthing.com/" },
      { name: "clerk", link: "https://clerk.dev/" },
    ],
  },
];
---

<section class="project-cards" id="projects">
  <ul>
    {
      projectList.map((project) => (
        <li class="border-purple-700 border-2 rounded-xl p-4 shadow-md shadow-purple-400 relative">
          {project.status && (
            <span class="absolute top-2 right-2 bg-slate-700 text-green-300 p-1 rounded-lg bg-opacity-50">
              {project.status}
            </span>
          )}
          <h2>{project.title}</h2>
          <p class="mb-2">{project.description}</p>
          <div class="link-container">
            <a
              href={project.link}
              class="text-fuchsia-400 mb-3 inline-block hover:text-shadow-sm transition-all"
            >
              Zum Source Code auf GitHub
            </a>
            <br />
            <a
              href={project.deployment}
              class="text-green-400 mb-3 inline-block hover:text-shadow-sm transition-all"
            >
              Schau dir das Projekt an
            </a>
          </div>

          <ul class="flex gap-4 mt-2 mb-auto flex-wrap min-h-12">
            {project.tags.map((tag) => (
              <a href={tag.link} target="_blank">
                <li class="border border-purple-600 rounded-xl p-1 dark:shadow-fuchsia-500 bg-opacity-70 bg-slate-700 mb-0 hover:scale-105 hover:shadow-md transition-all mx-auto ">
                  {tag.name}
                </li>
              </a>
            ))}
          </ul>
        </li>
      ))
    }
  </ul>
</section>

<style>
  @media only screen and (max-width: 768px) {
    ul li h2 {
      font-size: 1em;
      margin-bottom: 0.3rem;
    }
    ul li p {
      font-size: 0.8em;
    }
  }
  section ul li a {
    font-variation-settings:
      "wght" 400,
      "wdth" 100,
      "slnt" 0;
    font-size: 1em;
  }
  section ul li a:hover {
    font-variation-settings:
      "wght" 700,
      "wdth" 100,
      "slnt" -11;
    font-size: 1.1em;
  }
  .link-container a,
  .link-container {
    min-height: 40px;
    margin: 0 0 auto 0;
  }
</style>
